<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Completo de Verbos Irregulares en Inglés</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .question-container {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .verb-question {
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .verb-inputs {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        .verb-input {
            flex: 1;
            min-width: 120px;
        }
        input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            display: block;
            margin: 0 auto;
            min-width: 200px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .score-container {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .progress {
            margin-top: 10px;
            margin-bottom: 30px;
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background-color: #28a745;
            width: 0%;
            transition: width 0.3s ease;
        }
        .tense-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .restart-button {
            background-color: #6c757d;
            margin-top: 15px;
        }
        .restart-button:hover {
            background-color: #5a6268;
        }
        .question-number {
            background-color: #3498db;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            margin-right: 10px;
        }
        .next-instruction {
            text-align: center;
            margin-top: 15px;
            font-style: italic;
            color: #6c757d;
        }
        .hidden {
            display: none;
        }
        .results {
            text-align: center;
            display: none;
        }
        .results h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        @media (max-width: 600px) {
            .verb-inputs {
                flex-direction: column;
                gap: 15px;
            }
            .verb-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Quiz Completo de Verbos Irregulares en Inglés</h1>
        
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="score-container" id="scoreContainer">
            Pregunta <span id="currentQuestion">1</span> de <span id="totalQuestions">0</span>
            <div>Puntuación actual: <span id="currentScore">0</span> / <span id="answeredQuestions">0</span></div>
        </div>
        
        <div id="quizContainer">
            <div id="questionContainer" class="question-container">
                <!-- La pregunta actual se mostrará aquí -->
            </div>
            
            <div class="next-instruction" id="nextInstruction">
                Presiona Enter después de completar los tres campos para verificar y continuar
            </div>
        </div>
        
        <div class="results" id="results">
            <h2>Resultados del Quiz</h2>
            <p>Tu puntuación final es: <span id="finalScore">0</span> / <span id="totalVerbs">20</span></p>
            <p id="percentageScore"></p>
            <button class="restart-button" id="restartButton">Intentar de Nuevo</button>
        </div>
    </div>

    <script>
        // Base de datos de verbos irregulares
        const irregularVerbs = [
            { spanish: "ser/estar", infinitive: "be", past: "was/were", participle: "been" },
            { spanish: "golpear", infinitive: "beat", past: "beat", participle: "beaten" },
            { spanish: "convertirse", infinitive: "become", past: "became", participle: "become" },
            { spanish: "comenzar", infinitive: "begin", past: "began", participle: "begun" },
            { spanish: "doblar", infinitive: "bend", past: "bent", participle: "bent" },
            { spanish: "morder", infinitive: "bite", past: "bit", participle: "bitten" },
            { spanish: "soplar", infinitive: "blow", past: "blew", participle: "blown" },
            { spanish: "romper", infinitive: "break", past: "broke", participle: "broken" },
            { spanish: "traer", infinitive: "bring", past: "brought", participle: "brought" },
            { spanish: "construir", infinitive: "build", past: "built", participle: "built" },
            { spanish: "quemar", infinitive: "burn", past: "burned/burnt", participle: "burned/burnt" },
            { spanish: "estallar", infinitive: "burst", past: "burst", participle: "burst" },
            { spanish: "comprar", infinitive: "buy", past: "bought", participle: "bought" },
            { spanish: "poder", infinitive: "can", past: "could", participle: "been able" },
            { spanish: "atrapar", infinitive: "catch", past: "caught", participle: "caught" },
            { spanish: "elegir", infinitive: "choose", past: "chose", participle: "chosen" },
            { spanish: "venir", infinitive: "come", past: "came", participle: "come" },
            { spanish: "costar", infinitive: "cost", past: "cost", participle: "cost" },
            { spanish: "cortar", infinitive: "cut", past: "cut", participle: "cut" },
            { spanish: "cavar", infinitive: "dig", past: "dug", participle: "dug" },
            { spanish: "hacer", infinitive: "do", past: "did", participle: "done" },
            { spanish: "dibujar", infinitive: "draw", past: "drew", participle: "drawn" },
            { spanish: "soñar", infinitive: "dream", past: "dreamed/dreamt", participle: "dreamed/dreamt" },
            { spanish: "beber", infinitive: "drink", past: "drank", participle: "drunk" },
            { spanish: "conducir", infinitive: "drive", past: "drove", participle: "driven" },
            { spanish: "comer", infinitive: "eat", past: "ate", participle: "eaten" },
            { spanish: "caer", infinitive: "fall", past: "fell", participle: "fallen" },
            { spanish: "alimentar", infinitive: "feed", past: "fed", participle: "fed" },
            { spanish: "sentir", infinitive: "feel", past: "felt", participle: "felt" },
            { spanish: "luchar", infinitive: "fight", past: "fought", participle: "fought" },
            { spanish: "encontrar", infinitive: "find", past: "found", participle: "found" },
            { spanish: "volar", infinitive: "fly", past: "flew", participle: "flown" },
            { spanish: "olvidar", infinitive: "forget", past: "forgot", participle: "forgotten" },
            { spanish: "perdonar", infinitive: "forgive", past: "forgave", participle: "forgiven" },
            { spanish: "congelar", infinitive: "freeze", past: "froze", participle: "frozen" },
            { spanish: "obtener", infinitive: "get", past: "got", participle: "got" },
            { spanish: "dar", infinitive: "give", past: "gave", participle: "given" },
            { spanish: "ir", infinitive: "go", past: "went", participle: "gone/been" },
            { spanish: "crecer", infinitive: "grow", past: "grew", participle: "grown" },
            { spanish: "colgar", infinitive: "hang", past: "hung", participle: "hanged/hung" },
            { spanish: "tener", infinitive: "have", past: "had", participle: "had" },
            { spanish: "oír", infinitive: "hear", past: "heard", participle: "heard" },
            { spanish: "esconder", infinitive: "hide", past: "hid", participle: "hidden" },
            { spanish: "golpear", infinitive: "hit", past: "hit", participle: "hit" },
            { spanish: "sostener", infinitive: "hold", past: "held", participle: "held" },
            { spanish: "herir", infinitive: "hurt", past: "hurt", participle: "hurt" },
            { spanish: "mantener", infinitive: "keep", past: "kept", participle: "kept" },
            { spanish: "arrodillarse", infinitive: "kneel", past: "knelt", participle: "knelt" },
            { spanish: "saber", infinitive: "know", past: "knew", participle: "known" },
            { spanish: "poner", infinitive: "lay", past: "laid", participle: "laid" },
            { spanish: "dirigir", infinitive: "lead", past: "led", participle: "led" },
            { spanish: "aprender", infinitive: "learn", past: "learned/learnt", participle: "learned/learnt" },
            { spanish: "dejar", infinitive: "leave", past: "left", participle: "left" },
            { spanish: "prestar", infinitive: "lend", past: "lent", participle: "lent" },
            { spanish: "permitir", infinitive: "let", past: "let", participle: "let" },
            { spanish: "yacer", infinitive: "lie", past: "lay", participle: "lain" },
            { spanish: "encender", infinitive: "light", past: "lit", participle: "lit" },
            { spanish: "perder", infinitive: "lose", past: "lost", participle: "lost" },
            { spanish: "hacer", infinitive: "make", past: "made", participle: "made" },
            { spanish: "significar", infinitive: "mean", past: "meant", participle: "meant" },
            { spanish: "encontrarse", infinitive: "meet", past: "met", participle: "met" },
            { spanish: "deber", infinitive: "must", past: "had to", participle: "had to" },
            { spanish: "pagar", infinitive: "pay", past: "paid", participle: "paid" },
            { spanish: "poner", infinitive: "put", past: "put", participle: "put" },
            { spanish: "leer", infinitive: "read", past: "read", participle: "read" },
            { spanish: "montar", infinitive: "ride", past: "rode", participle: "ridden" },
            { spanish: "sonar", infinitive: "ring", past: "rang", participle: "rung" },
            { spanish: "elevarse", infinitive: "rise", past: "rose", participle: "risen" },
            { spanish: "correr", infinitive: "run", past: "ran", participle: "run" },
            { spanish: "decir", infinitive: "say", past: "said", participle: "said" },
            { spanish: "ver", infinitive: "see", past: "saw", participle: "seen" },
            { spanish: "vender", infinitive: "sell", past: "sold", participle: "sold" },
            { spanish: "enviar", infinitive: "send", past: "sent", participle: "sent" },
            { spanish: "establecer", infinitive: "set", past: "set", participle: "set" },
            { spanish: "sacudir", infinitive: "shake", past: "shook", participle: "shaken" },
            { spanish: "brillar", infinitive: "shine", past: "shone", participle: "shone" },
            { spanish: "disparar", infinitive: "shoot", past: "shot", participle: "shot" },
            { spanish: "mostrar", infinitive: "show", past: "showed", participle: "shown" },
            { spanish: "cerrar", infinitive: "shut", past: "shut", participle: "shut" },
            { spanish: "cantar", infinitive: "sing", past: "sang", participle: "sung" },
            { spanish: "hundir", infinitive: "sink", past: "sank", participle: "sunk" },
            { spanish: "sentarse", infinitive: "sit", past: "sat", participle: "sat" },
            { spanish: "dormir", infinitive: "sleep", past: "slept", participle: "slept" },
            { spanish: "deslizar", infinitive: "slide", past: "slid", participle: "slid" },
            { spanish: "oler", infinitive: "smell", past: "smelled/smelt", participle: "smelled/smelt" },
            { spanish: "hablar", infinitive: "speak", past: "spoke", participle: "spoken" },
            { spanish: "gastar", infinitive: "spend", past: "spent", participle: "spent" },
            { spanish: "derramar", infinitive: "spill", past: "spilled/spilt", participle: "spilled/spilt" },
            { spanish: "estropear", infinitive: "spoil", past: "spoiled/spoilt", participle: "spoiled/spoilt" },
            { spanish: "estar de pie", infinitive: "stand", past: "stood", participle: "stood" },
            { spanish: "robar", infinitive: "steal", past: "stole", participle: "stolen" },
            { spanish: "pegar", infinitive: "stick", past: "stuck", participle: "stuck" },
            { spanish: "nadar", infinitive: "swim", past: "swam", participle: "swum" },
            { spanish: "tomar", infinitive: "take", past: "took", participle: "taken" },
            { spanish: "enseñar", infinitive: "teach", past: "taught", participle: "taught" },
            { spanish: "rasgar", infinitive: "tear", past: "tore", participle: "torn" },
            { spanish: "contar", infinitive: "tell", past: "told", participle: "told" },
            { spanish: "pensar", infinitive: "think", past: "thought", participle: "thought" },
            { spanish: "lanzar", infinitive: "throw", past: "threw", participle: "thrown" },
            { spanish: "entender", infinitive: "understand", past: "understood", participle: "understood" },
            { spanish: "despertar", infinitive: "wake", past: "woke", participle: "woken" },
            { spanish: "llevar puesto", infinitive: "wear", past: "wore", participle: "worn" },
            { spanish: "ganar", infinitive: "win", past: "won", participle: "won" },
            { spanish: "escribir", infinitive: "write", past: "wrote", participle: "written" }
        ];


        // Variables globales
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestions = 0;
        
        // Elementos DOM
        const questionContainer = document.getElementById('questionContainer');
        const results = document.getElementById('results');
        const quizContainer = document.getElementById('quizContainer');
        const finalScore = document.getElementById('finalScore');
        const totalVerbs = document.getElementById('totalVerbs');
        const percentageScore = document.getElementById('percentageScore');
        const progressBar = document.getElementById('progressBar');
        const restartButton = document.getElementById('restartButton');
        const currentQuestionSpan = document.getElementById('currentQuestion');
        const totalQuestionsSpan = document.getElementById('totalQuestions');
        const currentScoreSpan = document.getElementById('currentScore');
        const answeredQuestionsSpan = document.getElementById('answeredQuestions');
        const nextInstruction = document.getElementById('nextInstruction');

        // Función para iniciar el quiz
        function initQuiz() {
            // Restablecer variables
            currentQuestionIndex = 0;
            score = 0;
            answeredQuestions = 0;
            
            // Restablecer la interfaz
            results.style.display = 'none';
            quizContainer.style.display = 'block';
            progressBar.style.width = '0%';
            
            // Mostrar el número total de verbos
            totalVerbs.textContent = irregularVerbs.length;
            totalQuestionsSpan.textContent = irregularVerbs.length;
            currentScoreSpan.textContent = score;
            answeredQuestionsSpan.textContent = answeredQuestions;
            
            // Mostrar la primera pregunta
            showQuestion(currentQuestionIndex);
            
            // Actualizar la barra de progreso
            updateProgressBar();
        }

        // Función para mostrar una pregunta
        function showQuestion(index) {
            questionContainer.innerHTML = '';
            currentQuestionSpan.textContent = index + 1;
            
            const verb = irregularVerbs[index];
            
            // Crear la pregunta
            const questionText = document.createElement('div');
            questionText.className = 'verb-question';
            questionText.innerHTML = `<span class="question-number">${index + 1}</span> ¿Cómo se dice "${verb.spanish}" en los 3 tiempos gramaticales?`;
            
            // Etiquetas de los tiempos verbales
            const tensesLabels = document.createElement('div');
            tensesLabels.className = 'tense-labels';
            tensesLabels.innerHTML = `
                <span>Infinitivo (Base Form)</span>
                <span>Pasado Simple (Past)</span>
                <span>Participio (Participle)</span>
            `;
            
            // Crear los inputs
            const inputsContainer = document.createElement('div');
            inputsContainer.className = 'verb-inputs';
            
            // Crear los 3 inputs para cada tiempo verbal
            const formNames = ['infinitive', 'past', 'participle'];
            formNames.forEach((form, formIndex) => {
                const inputDiv = document.createElement('div');
                inputDiv.className = 'verb-input';
                
                const input = document.createElement('input');
                input.type = 'text';
                input.id = `${form}-input`;
                input.placeholder = form.charAt(0).toUpperCase() + form.slice(1);
                
                // Añadir evento keydown para cada input
                input.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        // Si es el último input, verificar respuesta
                        if (formIndex === formNames.length - 1) {
                            checkAnswer();
                        } else {
                            // Si no es el último, pasar al siguiente input
                            document.getElementById(`${formNames[formIndex + 1]}-input`).focus();
                        }
                    }
                });
                
                inputDiv.appendChild(input);
                inputsContainer.appendChild(inputDiv);
            });
            
            // Agregar el elemento de feedback (inicialmente oculto)
            const feedbackElement = document.createElement('div');
            feedbackElement.className = 'feedback';
            feedbackElement.id = 'feedback';
            feedbackElement.style.display = 'none';
            
            // Agregar todo al DOM
            questionContainer.appendChild(questionText);
            questionContainer.appendChild(tensesLabels);
            questionContainer.appendChild(inputsContainer);
            questionContainer.appendChild(feedbackElement);
            
            // Enfocar el primer input
            document.getElementById('infinitive-input').focus();
        }

        // Función para verificar la respuesta actual
        function checkAnswer() {
            const infinitiveInput = document.getElementById('infinitive-input');
            const pastInput = document.getElementById('past-input');
            const participleInput = document.getElementById('participle-input');
            const feedbackElement = document.getElementById('feedback');
            
            const verb = irregularVerbs[currentQuestionIndex];
            
            const infinitiveCorrect = infinitiveInput.value.trim().toLowerCase() === verb.infinitive;
            const pastCorrect = pastInput.value.trim().toLowerCase() === verb.past;
            const participleCorrect = participleInput.value.trim().toLowerCase() === verb.participle;
            
            // Incrementar el contador de preguntas respondidas
            answeredQuestions++;
            answeredQuestionsSpan.textContent = answeredQuestions;
            
            // Verificar si todas son correctas
            if (infinitiveCorrect && pastCorrect && participleCorrect) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.textContent = '¡Correcto! ¡Muy bien!';
                score++;
                currentScoreSpan.textContent = score;
            } else {
                feedbackElement.className = 'feedback incorrect';
                
                let errorMessage = '¡Incorrecto! La forma correcta es:';
                
                if (!infinitiveCorrect) {
                    errorMessage += ` Infinitivo: ${verb.infinitive}`;
                    infinitiveInput.value = verb.infinitive;
                }
                
                if (!pastCorrect) {
                    errorMessage += ` Pasado: ${verb.past}`;
                    pastInput.value = verb.past;
                }
                
                if (!participleCorrect) {
                    errorMessage += ` Participio: ${verb.participle}`;
                    participleInput.value = verb.participle;
                }
                
                feedbackElement.textContent = errorMessage;
            }
            
            // Mostrar el feedback
            feedbackElement.style.display = 'block';
            
            // Deshabilitar los inputs
            infinitiveInput.disabled = true;
            pastInput.disabled = true;
            participleInput.disabled = true;
            
            // Actualizar la instrucción de continuar
            nextInstruction.textContent = "Presiona Enter para continuar con la siguiente pregunta";
            
            // Añadir un event listener al documento para la tecla Enter
            document.addEventListener('keydown', handleNextQuestion);
            
            // Actualizar la barra de progreso
            updateProgressBar();
        }
        
        // Función para manejar la tecla Enter para la siguiente pregunta
        function handleNextQuestion(event) {
            if (event.key === 'Enter') {
                document.removeEventListener('keydown', handleNextQuestion);
                moveToNextQuestion();
            }
        }
        
        // Función para avanzar a la siguiente pregunta
        function moveToNextQuestion() {
            currentQuestionIndex++;
            
            // Verificar si hemos terminado todas las preguntas
            if (currentQuestionIndex >= irregularVerbs.length) {
                showResults();
                return;
            }
            
            // Mostrar la siguiente pregunta
            showQuestion(currentQuestionIndex);
            
            // Actualizar la instrucción
            nextInstruction.textContent = "Presiona Enter después de completar los tres campos para verificar y continuar";
            
            // Actualizar la barra de progreso
            updateProgressBar();
        }
        
        // Función para actualizar la barra de progreso
        function updateProgressBar() {
            const progress = (answeredQuestions / irregularVerbs.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Cambiar el color según el porcentaje de aciertos
            if (answeredQuestions > 0) {
                const percentage = (score / answeredQuestions) * 100;
                if (percentage < 50) {
                    progressBar.style.backgroundColor = '#dc3545'; // Rojo
                } else if (percentage < 80) {
                    progressBar.style.backgroundColor = '#ffc107'; // Amarillo
                } else {
                    progressBar.style.backgroundColor = '#28a745'; // Verde
                }
            }
        }

        // Función para mostrar los resultados finales
        function showResults() {
            // Actualizar la puntuación
            finalScore.textContent = score;
            
            // Calcular y mostrar el porcentaje
            const percentage = (score / irregularVerbs.length) * 100;
            percentageScore.textContent = `Porcentaje: ${percentage.toFixed(1)}%`;
            
            // Ocultar el quiz y mostrar los resultados
            quizContainer.style.display = 'none';
            results.style.display = 'block';
            
            // Añadir mensaje según el resultado
            let messageElement = document.createElement('p');
            if (percentage < 50) {
                messageElement.textContent = 'Necesitas practicar más. ¡No te rindas!';
            } else if (percentage < 80) {
                messageElement.textContent = '¡Buen trabajo! Sigue practicando para mejorar.';
            } else {
                messageElement.textContent = '¡Excelente! Tienes un gran dominio de los verbos irregulares.';
            }
            results.insertBefore(messageElement, document.getElementById('restartButton'));
        }

        // Evento para reiniciar el quiz
        restartButton.addEventListener('click', function() {
            // Eliminar mensaje adicional si existe
            const messageElement = results.querySelector('p:not(#percentageScore)');
            if (messageElement && messageElement !== percentageScore) {
                messageElement.remove();
            }
            
            // Reiniciar el quiz
            initQuiz();
        });

        // Iniciar el quiz
        initQuiz();
    </script>
</body>
</html>